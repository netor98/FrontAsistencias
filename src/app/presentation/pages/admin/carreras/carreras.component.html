<div class="p-6 bg-gray-50 min-h-screen">
  <div class="max-w-7xl mx-auto">
    <!-- Encabezado -->
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-2xl font-semibold text-gray-800">Carreras</h2>
      <button (click)="onCreate()"
        class="px-4 py-2 bg-indigo-700 text-white rounded hover:bg-indigo-800 transition duration-200">
        Nueva Carrera
      </button>
    </div>


    <!-- Filtros -->
    <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0">
      <!-- Buscador -->
      <div class="flex-1">
        <input type="text" placeholder="Buscar por clave o nombre..." [formControl]="searchControl"
          class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" />
      </div>
      <!-- Select para Plan -->
      <carreras-filters></carreras-filters>
    </div>

    <!-- Tabla de Carreras -->
    <div class="bg-white shadow overflow-x-auto rounded-lg">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-100">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
              ID
            </th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
              Clave
            </th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
              Nombre
            </th>
            <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">
              Activa
            </th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
              Plan ID
            </th>
            <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">
              Acciones
            </th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          <tr *ngFor="let carrera of filteredCarreras">
            <td class="px-6 py-4 whitespace-nowrap text-sm">{{ carrera.id }}</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm">{{ carrera.clave }}</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm">{{ carrera.nombre }}</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-center">
              <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full"
                [class.bg-green-100]="carrera.activa" [class.text-green-800]="carrera.activa"
                [class.bg-red-100]="!carrera.activa" [class.text-red-800]="!carrera.activa">
                {{ carrera.activa ? 'Activa' : 'Inactiva' }}
              </span>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-sm">{{ carrera.planId }}</td>
            <td class="px-6 py-4 whitespace-nowrap text-center text-sm">
              <button (click)="onEdit(carrera)" class="text-indigo-600 hover:text-indigo-900 mr-2">
                Editar
              </button>
              <button (click)="onDelete(carrera.id)" class="text-red-600 hover:text-red-900">
                Eliminar
              </button>
            </td>
          </tr>
          <tr *ngIf="filteredCarreras.length === 0">
            <td colspan="6" class="text-center py-4 text-gray-500">
              No hay registros
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Paginación -->
    <div class="flex justify-center items-center mt-6">
      <nav class="flex items-center space-x-2">
        <button (click)="prevPage()" [disabled]="currentPage === 1"
          class="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition disabled:opacity-50">
          Anterior
        </button>
        <div class="px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded">
          Página {{ currentPage }} de {{ totalPages }}
        </div>
        <button (click)="nextPage()" [disabled]="currentPage === totalPages || totalPages === 0"
          class="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition disabled:opacity-50">
          Siguiente
        </button>
      </nav>
    </div>
  </div>
</div>
